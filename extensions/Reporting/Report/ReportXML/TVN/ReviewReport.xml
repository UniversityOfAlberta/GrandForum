<?xml version="1.0" encoding="UTF-8" ?>
<Report name="IFP2016 Report" ajax="true" disabled="false" pdfFiles="IFPReviewReportPDF,IFPReviewSummaryPDF">
    <Permissions>
        <Role start="REPORTING_CYCLE_START" end="REPORTING_CYCLE_END" role="RMC">
            <SectionPermission id="ifp_review" permissions="rw" />
            <SectionPermission id="ifp_review_summary" permissions="rw" />
            <SectionPermission id="submit" permissions="rw" />
        </Role>
    </Permissions>
    <ReportSection id="ifp_review" name="IFP Review" tooltip="Review of IFP Proposals" type="ReportSection">
        <ReportItemSet id="project_materials" type="AllMaterialsReportItemSet" subType="IFP-ETC">
            <ReportItemSet id="toggle" type="ToggleHeaderReportItemSet" title="{$user_tvn_file_number} - {$user_name}">
                <ReportItem id="script_init" type="StaticReportItem">
                    <![CDATA[
                        {set(q1, 0)}
                        {set(q2, 0)}
                        {set(q3, 0)}
                        {set(q4, 0)}
                        {set(q5, 0)}
                        {set(nReviewers, 0)}
                    ]]>
                </ReportItem>
                <ReportItemSet id="evals" type="EvaluatorReportItemSet" subType="IFP-ETC" includeSelf="true">
                    <ReportItem id="script" type="If" if="{and({!=({getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_RELEVANCE,{$parent_id},{$user_id},0)},)},
                                                               {!=({getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_MOTIVATION,{$parent_id},{$user_id},0)},)},
                                                               {!=({getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_CAPACITY,{$parent_id},{$user_id},0)},)},
                                                               {!=({getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_SUPPORT,{$parent_id},{$user_id},0)},)},
                                                               {!=({getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_REFEREE,{$parent_id},{$user_id},0)},)})}">
                        <![CDATA[
                            {set(q1, {add({get(q1)},{getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_RELEVANCE,{$parent_id},{$user_id},0)})})}
                            {set(q2, {add({get(q2)},{getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_MOTIVATION,{$parent_id},{$user_id},0)})})}
                            {set(q3, {add({get(q3)},{getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_CAPACITY,{$parent_id},{$user_id},0)})})}
                            {set(q4, {add({get(q4)},{getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_SUPPORT,{$parent_id},{$user_id},0)})})}
                            {set(q5, {add({get(q5)},{getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_REFEREE,{$parent_id},{$user_id},0)})})}
                            {set(nReviewers, {add({get(nReviewers)},1)})}
                        ]]>
                    </ReportItem>
                </ReportItemSet>
                <ReportItem id="table_head" type="StaticReportItem">
                    <![CDATA[
                        <div style="margin: 10px;">
                        <table class='wikitable' id="{$user_id}_table">
                            <thead>
                                <tr>
                                    <th>Reviewer</th>
                                    <th>Q1</th>
                                    <th>Q2</th>
                                    <th>Q3</th>
                                    <th>Q4</th>
                                    <th>Q5</th>
                                    <th>Total</th>
                                    <th width='60%'>Comments</th>
                                </tr>
                            </thead>
                            <tbody>
                    ]]>
                </ReportItem>
                <ReportItemSet id="evaluators" type="EvaluatorReportItemSet" subType="IFP-ETC" includeSelf="true">
                    <ReportItem id="relevance" type="StaticReportItem">
                        <![CDATA[
                            <tr>
                                <td>{$user_name}</td>
                                <td align='right'>{getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_RELEVANCE,{$parent_id},{$user_id},0)}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="motivation" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_MOTIVATION,{$parent_id},{$user_id},0)}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="capacity" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_CAPACITY,{$parent_id},{$user_id},0)}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="support" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_SUPPORT,{$parent_id},{$user_id},0)}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="referee" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_REFEREE,{$parent_id},{$user_id},0)}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="total" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>
                                {add({getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_RELEVANCE,{$parent_id},{$user_id},0)},
                                     {add({getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_MOTIVATION,{$parent_id},{$user_id},0)},
                                          {add({getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_CAPACITY,{$parent_id},{$user_id},0)},
                                               {add({getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_SUPPORT,{$parent_id},{$user_id},0)},
                                                    {getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_REFEREE,{$parent_id},{$user_id},0)})
                                               })
                                          })
                                     })
                                }
                            </td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="comments" type="StaticReportItem">
                        <![CDATA[
                            <td>
                                <div style='max-height: 115px; overflow-y: auto;'>
                                    {getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_COMMENTS,{$parent_id},{$user_id},0)}
                                </div>
                            </td>
                            </tr>
                        ]]>
                    </ReportItem>
                </ReportItemSet>
                <ReportItem id="table_foot" type="StaticReportItem">
                    <![CDATA[
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th style='white-space:nowrap;'>Average Scores:</th>
                                    <th>
                                        {round({divide({get(q1)},{get(nReviewers)})},1)}
                                    </th>
                                    <th>
                                        {round({divide({get(q2)},{get(nReviewers)})},1)}
                                    </th>
                                    <th>
                                        {round({divide({get(q3)},{get(nReviewers)})},1)}
                                    </th>
                                    <th>
                                        {round({divide({get(q4)},{get(nReviewers)})},1)}
                                    </th>
                                    <th>
                                        {round({divide({get(q5)},{get(nReviewers)})},1)}
                                    </th>
                                    <th>
                                        {set(total, 
                                            {add({get(q1)}, 
                                                {add({get(q2)},
                                                    {add({get(q3)},
                                                        {add({get(q4)},{get(q5)})}
                                                    )}
                                                )}
                                            )}
                                        )}
                                        {round({divide({get(total)},{get(nReviewers)})},1)}
                                    </th>
                                    <th></th>
                                </tr>
                            </tfoot>
                        </table>
                        </div>
                        <script type='text/javascript'>
                            $("#{$user_id}_table.wikitable").dataTable({'autoWidth': false});
                        </script>
                    ]]>
                </ReportItem>
            </ReportItemSet>
        </ReportItemSet>
    </ReportSection>
    <ReportSection id="ifp_review_summary" name="IFP Summary Table" tooltip="IFP Summary Table" type="ReportSection">
        <ReportItem id="table_head" type="Static">
            <![CDATA[
                <table class='wikitable' id="eval_table">
                    <thead>
                        <tr>
                            <th>IFP</th>
                            <th>Avg. Q1</th>
                            <th>Avg. Q2</th>
                            <th>Avg. Q3</th>
                            <th>Avg. Q4</th>
                            <th>Avg. Q5</th>
                            <th>Avg. Total</th>
                        </tr>
                    </thead>
                    <tbody>
            ]]>
        </ReportItem>
        <ReportItemSet id="project_materials" type="AllMaterialsReportItemSet" subType="IFP-ETC">
            <ReportItem id="script_init" type="StaticReportItem">
                <![CDATA[
                    {set(q1,0)}
                    {set(q2,0)}
                    {set(q3,0)}
                    {set(q4,0)}
                    {set(q5,0)}
                    {set(nReviewers,0)}
                ]]>
            </ReportItem>
            <ReportItemSet id="evals" type="EvaluatorReportItemSet" subType="IFP-ETC" includeSelf="true">
                <ReportItem id="script" type="If" if="{and({!=({getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_RELEVANCE,{$parent_id},{$user_id},0)},)},
                                                           {!=({getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_MOTIVATION,{$parent_id},{$user_id},0)},)},
                                                           {!=({getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_CAPACITY,{$parent_id},{$user_id},0)},)},
                                                           {!=({getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_SUPPORT,{$parent_id},{$user_id},0)},)},
                                                           {!=({getText(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_REFEREE,{$parent_id},{$user_id},0)},)})}">
                    <![CDATA[
                        {set(q1, {add({get(q1)},{getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_RELEVANCE,{$parent_id},{$user_id},0)})})}
                        {set(q2, {add({get(q2)},{getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_MOTIVATION,{$parent_id},{$user_id},0)})})}
                        {set(q3, {add({get(q3)},{getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_CAPACITY,{$parent_id},{$user_id},0)})})}
                        {set(q4, {add({get(q4)},{getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_SUPPORT,{$parent_id},{$user_id},0)})})}
                        {set(q5, {add({get(q5)},{getNumber(RP_IFP_REVIEW,IFP_REVIEW,IFP_REVIEW_REFEREE,{$parent_id},{$user_id},0)})})}
                        {set(nReviewers, {add({get(nReviewers)},1)})}
                    ]]>
                </ReportItem>
            </ReportItemSet>
            <ReportItem id="table_row" type="StaticReportItem">
                <![CDATA[
                    <tr>
                        <td style='white-space:nowrap;'><b>{$user_tvn_file_number} - {$user_name}</b></td>
                        <td align='right'>
                            {round({divide({get(q1)},{get(nReviewers)})},1)}
                        </td>
                        <td align='right'>
                            {round({divide({get(q2)},{get(nReviewers)})},1)}
                        </td>
                        <td align='right'>
                            {round({divide({get(q3)},{get(nReviewers)})},1)}
                        </td>
                        <td align='right'>
                            {round({divide({get(q4)},{get(nReviewers)})},1)}
                        </td>
                        <td align='right'>
                            {round({divide({get(q5)},{get(nReviewers)})},1)}
                        </td>
                        <td align='right'>
                            {set(total, 
                                {add({get(q1)}, 
                                    {add({get(q2)},
                                        {add({get(q3)},
                                            {add({get(q4)},{get(q5)})}
                                        )}
                                    )}
                                )}
                            )}
                            {round({divide({get(total)},{get(nReviewers)})},1)}
                        </td>
                    </tr>
                ]]>
            </ReportItem>
        </ReportItemSet>
        <ReportItem id="table_foot" type="Static">
            <![CDATA[
                    </tbody>
                </table>
                <script type='text/javascript'>
                    $("#eval_table").dataTable({'autoWidth': false,
                                                'iDisplayLength': -1,
                                                'aLengthMenu': [[10, 25, 100, 250, -1], [10, 25, 100, 250, 'All']]});
                </script>
            ]]>
        </ReportItem>
    </ReportSection>
    <ReportSection id="src_review" name="Ex/SRC Trans. Review" tooltip="External/SRC Review of Transformative Proposals" type="ReportSection" disabled="true">
        <ReportItemSet id="project_materials" type="AllMaterialsReportItemSet" subType="Project">
            <ReportItemSet id="toggle" type="ToggleHeaderReportItemSet" title="{$project_name}">
                <ReportItem id="script_init" type="StaticReportItem">
                    <![CDATA[
                        <script type='text/javascript'>
                            var q1 = 0;
                            var q2 = 0;
                            var q3 = 0;
                            var q4 = 0;
                            var q5 = 0;
                            var q6 = 0;
                            var q7 = 0;
                            var q8 = 0;
                            var q9 = 0;
                            var q10 = 0;
                            var q11 = 0;
                            var q12 = 0;
                            var q13 = 0;
                            var nReviewers = 0;
                        </script>
                    ]]>
                </ReportItem>
                <ReportItemSet id="evals" type="EvaluatorReportItemSet" subType="Project" includeSelf="true">
                    <ReportItem id="script" type="StaticReportItem">
                        <![CDATA[
                            <script type='text/javascript'>
                                q1 += {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_TOPIC,0,{$user_id},{$project_id})};
                                q2 += {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_GAP,0,{$user_id},{$project_id})};
                                q3 += {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_QUESTION,0,{$user_id},{$project_id})};
                                q4 += {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_METHODOLOGY,0,{$user_id},{$project_id})};
                                q5 += {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_DESIGN,0,{$user_id},{$project_id})};
                                q6 += {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_PROCEDURES,0,{$user_id},{$project_id})};
                                q7 += {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_OUTCOMES,0,{$user_id},{$project_id})};
                                q8 += {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_INTEGRATION,0,{$user_id},{$project_id})};
                                q9 += {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_RECOGNITION,0,{$user_id},{$project_id})};
                                q10 += {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_EXPERIENCE,0,{$user_id},{$project_id})};
                                q11 += {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_EXPERTISE,0,{$user_id},{$project_id})};
                                q12 += {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_BUDGET,0,{$user_id},{$project_id})};
                                q13 += {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_OBJECTIVES,0,{$user_id},{$project_id})};
                                
                                nReviewers++;
                            </script>
                        ]]>
                    </ReportItem>
                </ReportItemSet>
                <ReportItem id="table_head" type="StaticReportItem">
                    <![CDATA[
                        <div style="margin: 10px;">
                        <table class='wikitable' id="{$project_id}_table1">
                            <thead>
                                <tr>
                                    <th>Reviewer</th>
                                    <th>A1</th>
                                    <th>A2</th>
                                    <th>A3</th>
                                    <th>A4</th>
                                    <th>A5</th>
                                    <th>A6</th>
                                    <th>A7</th>
                                    <th>A8</th>
                                    <th>A9</th>
                                    <th>Total</th>
                                    <th>Converted Total</th>
                                    <th width='400px'>Comments</th>
                                </tr>
                            </thead>
                            <tbody>
                    ]]>
                </ReportItem>
                <ReportItemSet id="evaluators" type="EvaluatorReportItemSet" subType="Project" includeSelf="true">
                    <ReportItem id="topic" type="StaticReportItem">
                        <![CDATA[
                            <tr>
                                <td>{$user_name}</td>
                                <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_TOPIC,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="gap" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_GAP,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="question" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_QUESTION,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="methodology" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_METHODOLOGY,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="design" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_DESIGN,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="procedures" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_PROCEDURES,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="outcomes" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_OUTCOMES,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="integration" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_INTEGRATION,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="recognition" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_RECOGNITION,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="total" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>
                                {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_TOPIC,0,{$user_id},{$project_id})},
                                    {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_GAP,0,{$user_id},{$project_id})},
                                        {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_QUESTION,0,{$user_id},{$project_id})},
                                            {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_METHODOLOGY,0,{$user_id},{$project_id})},
                                                {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_DESIGN,0,{$user_id},{$project_id})},
                                                    {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_PROCEDURES,0,{$user_id},{$project_id})},
                                                        {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_OUTCOMES,0,{$user_id},{$project_id})},
                                                            {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_INTEGRATION,0,{$user_id},{$project_id})},
                                                                 {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_RECOGNITION,0,{$user_id},{$project_id})}
                                                            )}
                                                        )}
                                                    )}
                                                )}
                                            )}
                                        )}
                                    )}
                                )}
                            </td>
                            <td align='right'>
                                {round(
                                    {multiply(
                                        {divide(
                                            {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_TOPIC,0,{$user_id},{$project_id})},
                                                {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_GAP,0,{$user_id},{$project_id})},
                                                    {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_QUESTION,0,{$user_id},{$project_id})},
                                                        {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_METHODOLOGY,0,{$user_id},{$project_id})},
                                                            {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_DESIGN,0,{$user_id},{$project_id})},
                                                                {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_PROCEDURES,0,{$user_id},{$project_id})},
                                                                    {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_OUTCOMES,0,{$user_id},{$project_id})},
                                                                        {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_INTEGRATION,0,{$user_id},{$project_id})},
                                                                             {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_RECOGNITION,0,{$user_id},{$project_id})}
                                                                        )}
                                                                    )}
                                                                )}
                                                            )}
                                                        )}
                                                    )}
                                                )}
                                            )}
                                        , 36)}
                                    , 5)}
                                , 2)}
                            </td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="comments" type="StaticReportItem">
                        <![CDATA[
                            <td>
                                <div style='max-height: 75px; overflow-y: auto;'>
                                    {getText(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_COMMENTS1,0,{$user_id},{$project_id})}
                                </div>
                            </td>
                            </tr>
                        ]]>
                    </ReportItem>
                </ReportItemSet>
                <ReportItem id="table_foot" type="StaticReportItem">
                    <![CDATA[
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th style='white-space:nowrap;'>Average Scores:</th>
                                    <th id='{$project_id}_q1_total'></th>
                                    <th id='{$project_id}_q2_total'></th>
                                    <th id='{$project_id}_q3_total'></th>
                                    <th id='{$project_id}_q4_total'></th>
                                    <th id='{$project_id}_q5_total'></th>
                                    <th id='{$project_id}_q6_total'></th>
                                    <th id='{$project_id}_q7_total'></th>
                                    <th id='{$project_id}_q8_total'></th>
                                    <th id='{$project_id}_q9_total'></th>
                                    <th id='{$project_id}_total1'></th>
                                    <th id='{$project_id}_converted_total1'></th>
                                    <th></th>
                                </tr>
                            </tfoot>
                        </table>
                        </div>
                        <script type='text/javascript'>
                            $("#{$project_id}_q1_total").text(Math.round((q1/nReviewers)*100)/100);
                            $("#{$project_id}_q2_total").text(Math.round((q2/nReviewers)*100)/100);
                            $("#{$project_id}_q3_total").text(Math.round((q3/nReviewers)*100)/100);
                            $("#{$project_id}_q4_total").text(Math.round((q4/nReviewers)*100)/100);
                            $("#{$project_id}_q5_total").text(Math.round((q5/nReviewers)*100)/100);
                            $("#{$project_id}_q6_total").text(Math.round((q6/nReviewers)*100)/100);
                            $("#{$project_id}_q7_total").text(Math.round((q7/nReviewers)*100)/100);
                            $("#{$project_id}_q8_total").text(Math.round((q8/nReviewers)*100)/100);
                            $("#{$project_id}_q9_total").text(Math.round((q9/nReviewers)*100)/100);
                            $("#{$project_id}_total1").text(Math.round(((q1+q2+q3+q4+q5+q6+q7+q8+q9)/nReviewers)*100)/100);
                            $("#{$project_id}_converted_total1").text(Math.round(((((q1+q2+q3+q4+q5+q6+q7+q8+q9)/nReviewers)/36)*5)*100)/100);
                            $("#{$project_id}_table1.wikitable").dataTable({'autoWidth': false});
                        </script>
                    ]]>
                </ReportItem>
                <ReportItem id="table_head" type="StaticReportItem">
                    <![CDATA[
                        <div style="margin: 10px;">
                        <table class='wikitable' id="{$project_id}_table2">
                            <thead>
                                <tr>
                                    <th>Reviewer</th>
                                    <th>B1</th>
                                    <th>B2</th>
                                    <th>B3</th>
                                    <th>Total</th>
                                    <th>Converted Total</th>
                                    <th width='400px'>Comments</th>
                                </tr>
                            </thead>
                            <tbody>
                    ]]>
                </ReportItem>
                <ReportItemSet id="evaluators" type="EvaluatorReportItemSet" subType="Project" includeSelf="true">
                    <ReportItem id="experience" type="StaticReportItem">
                        <![CDATA[
                            <tr>
                                <td>{$user_name}</td>
                                <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_EXPERIENCE,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="budget" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_BUDGET,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="objectives" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_OBJECTIVES,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="total" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>
                                {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_EXPERIENCE,0,{$user_id},{$project_id})},
                                    {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_BUDGET,0,{$user_id},{$project_id})},
                                         {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_OBJECTIVES,0,{$user_id},{$project_id})}
                                    )}
                                )}
                            </td>
                            <td align='right'>
                                {round(
                                    {multiply(
                                        {divide(
                                            {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_EXPERIENCE,0,{$user_id},{$project_id})},
                                                {add({getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_BUDGET,0,{$user_id},{$project_id})},
                                                     {getNumber(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_OBJECTIVES,0,{$user_id},{$project_id})}
                                                )}
                                            )}
                                        , 12)}
                                    , 5)}
                                , 2 )}
                            </td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="comments" type="StaticReportItem">
                        <![CDATA[
                            <td>
                                <div style='max-height: 75px; overflow-y: auto;'>
                                    {getText(RP_TRANS_REVIEW,TRANS_SRC_REVIEW,TRANS_SRC_COMMENTS2,0,{$user_id},{$project_id})}
                                </div>
                            </td>
                            </tr>
                        ]]>
                    </ReportItem>
                </ReportItemSet>
                <ReportItem id="table_foot" type="StaticReportItem">
                    <![CDATA[
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th style='white-space:nowrap;'>Average Scores:</th>
                                    <th id='{$project_id}_q10_total'></th>
                                    <th id='{$project_id}_q12_total'></th>
                                    <th id='{$project_id}_q13_total'></th>
                                    <th id='{$project_id}_total2'></th>
                                    <th id='{$project_id}_converted_total2'></th>
                                    <th></th>
                                </tr>
                            </tfoot>
                        </table>
                        </div>
                        <script type='text/javascript'>
                            $("#{$project_id}_q10_total").text(q10/nReviewers);
                            $("#{$project_id}_q11_total").text(q11/nReviewers);
                            $("#{$project_id}_q12_total").text(q12/nReviewers);
                            $("#{$project_id}_q13_total").text(q13/nReviewers);
                            $("#{$project_id}_total2").text((q10+q12+q13)/nReviewers);
                            $("#{$project_id}_converted_total2").text(Math.round(((((q10+q12+q13)/nReviewers)/12)*5)*100)/100);
                            $("#{$project_id}_table2.wikitable").dataTable({'autoWidth':false});
                        </script>
                    ]]>
                </ReportItem>
            </ReportItemSet>
        </ReportItemSet>
    </ReportSection>
    <ReportSection id="rmc_review" name="RMC Trans. Review" tooltip="RMC Review of Transformative Proposals" type="ReportSection" disabled="true">
        <ReportItemSet id="project_materials" type="AllMaterialsReportItemSet" subType="Project">
            <ReportItemSet id="toggle" type="ToggleHeaderReportItemSet" title="{$project_name}">
                <ReportItem id="script_init" type="StaticReportItem">
                    <![CDATA[
                        <script type='text/javascript'>
                            var q1 = 0;
                            var q2 = 0;
                            var q3 = 0;
                            var q4 = 0;
                            var q5 = 0;
                            var q6 = 0;
                            var q7 = 0;
                            var q8 = 0;
                            var q9 = 0;
                            var nReviewers = 0;
                        </script>
                    ]]>
                </ReportItem>
                <ReportItemSet id="evals" type="EvaluatorReportItemSet" subType="Project" includeSelf="true">
                    <ReportItem id="script" type="StaticReportItem">
                        <![CDATA[
                            <script type='text/javascript'>
                                q1 += {getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_GRANT,0,{$user_id},{$project_id})};
                                q2 += {getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_IMPACT,0,{$user_id},{$project_id})};
                                q3 += {getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_POLICY,0,{$user_id},{$project_id})};
                                q4 += {getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_MISSION,0,{$user_id},{$project_id})};
                                q5 += {getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_PRIORITIES,0,{$user_id},{$project_id})};
                                q6 += {getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_NETWORKING,0,{$user_id},{$project_id})};
                                q7 += {getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_PARTNERSHIPS,0,{$user_id},{$project_id})};
                                q8 += {getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_HQP,0,{$user_id},{$project_id})};
                                q9 += {getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_ENGAGEMENT,0,{$user_id},{$project_id})};
                                
                                nReviewers++;
                            </script>
                        ]]>
                    </ReportItem>
                </ReportItemSet>
                <ReportItem id="table_head" type="StaticReportItem">
                    <![CDATA[
                        <div style="margin: 10px;">
                        <table class='wikitable' id="{$project_id}_table">
                            <thead>
                                <tr>
                                    <th>Reviewer</th>
                                    <th>Q1</th>
                                    <th>Q2</th>
                                    <th>Q3</th>
                                    <th>Q4</th>
                                    <th>Q5</th>
                                    <th>Q6</th>
                                    <th>Q7</th>
                                    <th>Q8</th>
                                    <th>Q9</th>
                                    <th>Total</th>
                                    <th>Converted Total</th>
                                    <th>Comments</th>
                                    <th>Suggestions</th>
                                </tr>
                            </thead>
                            <tbody>
                    ]]>
                </ReportItem>
                <ReportItemSet id="evaluators" type="EvaluatorReportItemSet" subType="Project" includeSelf="true">
                    <ReportItem id="grant" type="StaticReportItem">
                        <![CDATA[
                            <tr>
                                <td>{$user_name}</td>
                                <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_TOPIC,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="impact" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_IMPACT,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="policy" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_POLICY,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="mission" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_MISSION,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="priorities" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_PRIORITIES,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="networking" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_NETWORKING,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="partnerships" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_PARTNERSHIPS,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="hqp" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_HQP,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="engagement" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>{getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_ENGAGEMENT,0,{$user_id},{$project_id})}</td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="total" type="StaticReportItem">
                        <![CDATA[
                            <td align='right'>
                                {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_GRANT,0,{$user_id},{$project_id})},
                                    {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_IMPACT,0,{$user_id},{$project_id})},
                                        {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_POLICY,0,{$user_id},{$project_id})},
                                            {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_MISSION,0,{$user_id},{$project_id})},
                                                {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_PRIORITIES,0,{$user_id},{$project_id})},
                                                    {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_NETWORKING,0,{$user_id},{$project_id})},
                                                        {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_PARTNERSHIPS,0,{$user_id},{$project_id})},
                                                            {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_HQP,0,{$user_id},{$project_id})},
                                                                 {getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_ENGAGEMENT,0,{$user_id},{$project_id})}
                                                            )}
                                                        )}
                                                    )}
                                                )}
                                            )}
                                        )}
                                    )}
                                )}
                            </td>
                            <td align='right'>
                                {round(
                                    {multiply(
                                        {divide(
                                            {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_GRANT,0,{$user_id},{$project_id})},
                                                {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_IMPACT,0,{$user_id},{$project_id})},
                                                    {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_POLICY,0,{$user_id},{$project_id})},
                                                        {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_MISSION,0,{$user_id},{$project_id})},
                                                            {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_PRIORITIES,0,{$user_id},{$project_id})},
                                                                {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_NETWORKING,0,{$user_id},{$project_id})},
                                                                    {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_PARTNERSHIPS,0,{$user_id},{$project_id})},
                                                                        {add({getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_HQP,0,{$user_id},{$project_id})},
                                                                             {getNumber(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_ENGAGEMENT,0,{$user_id},{$project_id})}
                                                                        )}
                                                                    )}
                                                                )}
                                                            )}
                                                        )}
                                                    )}
                                                )}
                                            )}
                                        , 36)}
                                    , 5)}
                                , 2)}
                            </td>
                        ]]>
                    </ReportItem>
                    <ReportItem id="comments" type="StaticReportItem">
                        <![CDATA[
                            <td>
                                <div style='max-height: 75px; overflow-y: auto;'>
                                    {getText(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_COMMENTS,0,{$user_id},{$project_id})}
                                </div>
                            </td>
                            <td>
                                <div style='max-height: 75px; overflow-y: auto;'>
                                    {getText(RP_TRANS_REVIEW,TRANS_RMC_REVIEW,TRANS_RMC_SUGGESTIONS,0,{$user_id},{$project_id})}
                                </div>
                            </td>
                            </tr>
                        ]]>
                    </ReportItem>
                </ReportItemSet>
                <ReportItem id="table_foot" type="StaticReportItem">
                    <![CDATA[
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th style='white-space:nowrap;'>Average Scores:</th>
                                    <th id='{$project_id}_q1_total'></th>
                                    <th id='{$project_id}_q2_total'></th>
                                    <th id='{$project_id}_q3_total'></th>
                                    <th id='{$project_id}_q4_total'></th>
                                    <th id='{$project_id}_q5_total'></th>
                                    <th id='{$project_id}_q6_total'></th>
                                    <th id='{$project_id}_q7_total'></th>
                                    <th id='{$project_id}_q8_total'></th>
                                    <th id='{$project_id}_q9_total'></th>
                                    <th id='{$project_id}_total1'></th>
                                    <th id='{$project_id}_converted_total1'></th>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </tfoot>
                        </table>
                        </div>
                        <script type='text/javascript'>
                            $("#{$project_id}_q1_total").text(Math.round((q1/nReviewers)*100)/100);
                            $("#{$project_id}_q2_total").text(Math.round((q2/nReviewers)*100)/100);
                            $("#{$project_id}_q3_total").text(Math.round((q3/nReviewers)*100)/100);
                            $("#{$project_id}_q4_total").text(Math.round((q4/nReviewers)*100)/100);
                            $("#{$project_id}_q5_total").text(Math.round((q5/nReviewers)*100)/100);
                            $("#{$project_id}_q6_total").text(Math.round((q6/nReviewers)*100)/100);
                            $("#{$project_id}_q7_total").text(Math.round((q7/nReviewers)*100)/100);
                            $("#{$project_id}_q8_total").text(Math.round((q8/nReviewers)*100)/100);
                            $("#{$project_id}_q9_total").text(Math.round((q9/nReviewers)*100)/100);
                            $("#{$project_id}_total1").text(Math.round(((q1+q2+q3+q4+q5+q6+q7+q8+q9)/nReviewers)*100)/100);
                            $("#{$project_id}_converted_total1").text(Math.round(((((q1+q2+q3+q4+q5+q6+q7+q8+q9)/nReviewers)/36)*5)*100)/100);
                            $("#{$project_id}_table.wikitable").dataTable({'autoWidth':false});
                        </script>
                    ]]>
                </ReportItem>
            </ReportItemSet>
        </ReportItemSet>
    </ReportSection>
    <ReportSection id="submit" type="ReportSection" name="Submit" tooltip="Submit" title="Submit">
        <ReportItem id="submit" type="SimpleReviewSubmit">
            {$item}
        </ReportItem>
    </ReportSection>
</Report>
