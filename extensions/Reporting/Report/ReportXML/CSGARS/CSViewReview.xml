<?xml version="1.0" encoding="UTF-8" ?>
<Report name="CSViewReview" reportType="RP_OTT" pdfType="RPTP_OTT" pdfFiles="CSViewReview" ajax="true" disabled="false">
    <Permissions>
        <Role role="Chair">
            <SectionPermission id="review student" permissions="rw" />
            <SectionPermission id="review" permissions="rw" />
            <SectionPermission id="submit" permissions="rw" />
        </Role>
        <Role role="Faculty">
            <SectionPermission id="review student" permissions="rw" />
            <SectionPermission id="review" permissions="rw" />
            <SectionPermission id="submit" permissions="rw" />
        </Role>
        <Role role="Manager">
            <SectionPermission id="review student" permissions="rw" />
            <SectionPermission id="review" permissions="rw" />
            <SectionPermission id="submit" permissions="rw" />
        </Role>
    </Permissions>
    <ReportSection id="review student" tooltip="Student Review" name="Review Student" blobSection="OT_REVIEW" type="EditableReportSection" pagebreak="false">
        <ReportItem id="js" type="StaticReportItem">
            <![CDATA[
            <script type='text/javascript'>
            $('#aboveTabs').hide();
            $('#reportTabs').hide();
            $('#reportHeader').hide();
            $('#reportBody').css('min-height',0);
            setInterval(function(){
                //parent.alertsize($("body").height()); 
            }, 100);
            
            </script>
            ]]>
        </ReportItem>
        <ReportItemSet id="if_statement" type="IfReportItemSet" if="{or({contains({$user_full_roles}, Faculty)}, {contains({$user_full_roles}, Chair)})}">
            <ReportItemSet id="header" type="ToggleHeaderReportItemSet" title="{$user_reversed_name}">
        <ReportItem id="q0" type="CheckboxReportItem" blobItem="CS_Review_Uninteresting" blobType="BLOB_ARRAY" orientation="horizontal" options="Ignore this student" user="{$userId}">
            <![CDATA[
                <h3>Not interesting?</h3>
                {$item}
            ]]>
        </ReportItem>
        <ReportItem id="q1" type="RadioReportItem" blobItem="CS_Review_SpecialCons" blobType="BLOB_TEXT" orientation="horizontal" options="Yes|No" user="{$userId}">
            <![CDATA[
                <h3>Special Considerations That Make This Application Compelling?</h3>
                {$item}
            ]]>
        </ReportItem>
        <ReportItem id="q2" type="Textarea" height="120px" blobItem="CS_Review_SpecialExplain" blobType="BLOB_TEXT">
            <![CDATA[
                <h3>Explain</h3>
                {$item}
            ]]>
        </ReportItem>
        <ReportItem id="q3" type="RadioReportItem" blobItem="CS_Review_Rank" blobType="BLOB_TEXT" orientation="horizontal" options="1|2|3|4">
            <![CDATA[
                <h3>Rank <span style="font-size: 100%;font-weight: normal;">(4 is the best)</span></h3>
                {$item}
            ]]>
        </ReportItem>
        <ReportItem id="q4" type="Textarea" height="120px" blobItem="CS_Review_RankExplain" blobType="BLOB_TEXT">
            <![CDATA[
                <h3>Justification for Ranking</h3>
                {$item}
            ]]>
        </ReportItem>
        <ReportItem id="q5" type="RadioReportItem" blobItem="CS_Review_Supervise" blobType="BLOB_TEXT" orientation="horizontal" options="Yes|No">
            <![CDATA[
                <h3>Are you willing to supervise this student?</h3>
                {$item}
            ]]>
        </ReportItem>
            </ReportItemSet>
        </ReportItemSet>
        <ReportItemSet id="if_statement" type="IfReportItemSet" if="{contains({$user_full_roles}, Manager)}">
                <ReportItem id="table_header" type="StaticReportItem">
                    <![CDATA[
                    <br />
                    ]]>
                </ReportItem>
	</ReportItemSet>
        <ReportItemSet id="professors" type="AllSopReviewerReportItemSet" roles="Faculty" sort_reversed="true">
            <ReportItemSet id="if_statement" type="IfReportItemSet" if="{!=({$my_id}, {$user_id})}">
                <ReportItemSet id="header" type="ToggleHeaderReportItemSet" title="{$user_reversed_name}" sop="true">
                    <ReportItem id="feedback_unedit" type="StaticReportItem">
                        <![CDATA[
				                        <table border="1" style="border-collapse:collapse">
                        <tr><td><span 'style=font-size: 14px;'><h3>Special Considerations That Make This Application Compelling?:</h3></span></td>
                        <td>{getText(RP_OTT,OT_REVIEW,CS_Review_SpecialCons,0,{$user_id},{$project_id})}</td></tr>
			<tr><td colspan=2>Comments:<br />{getText(RP_OTT,OT_REVIEW,CS_Review_SpecialExplain,0,{$user_id},{$project_id})}</td></tr>
                        <tr><td><span 'style=font-size: 14px;'><h3>Rank:</h3></span></td><td width="30%">
                        {getText(RP_OTT,OT_REVIEW,CS_Review_Rank,0,{$user_id},{$project_id})}</td></tr>
                        <tr><td colspan=2>Justification for Ranking:<br />{getText(RP_OTT,OT_REVIEW,CS_Review_RankExplain,0,{$user_id},{$project_id})}</td></tr>
                        <tr><td><span 'style=font-size: 14px;'><h3>Are you willing to supervise this student?:</h3></span></td><td>
                        {getText(RP_OTT,OT_REVIEW,CS_Review_Supervise,0,{$user_id},{$project_id})}</td></tr>
                        </table>
                        ]]>
                    </ReportItem>
                    
                </ReportItemSet>
            </ReportItemSet>
        </ReportItemSet>
    </ReportSection>
    <ReportSection id="submit" tooltip="PDF generation of the Review" name="Generate PDF" blobSection="SEC_NONE" type="ReportSection" renderpdf="false">
        <Instructions>
            <![CDATA[
            
            ]]>
        </Instructions>
        <ReportItem id="review" type="SimpleReviewSubmitReportItem" />
    </ReportSection>
    
</Report>
