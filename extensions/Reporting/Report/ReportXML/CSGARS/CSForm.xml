<?xml version="1.0" encoding="UTF-8" ?>
<Report name="CS Form" reportType="RP_OT" pdfType="RPTP_OT" pdfFiles="CSFormFullPDF" ajax="true" disabled="false">
    <Permissions>
        <Role role="OT">
            <SectionPermission id="personal" permissions="rw" />
            <SectionPermission id="review" permissions="rw" />
            <SectionPermission id="eula" permissions="rw" />
            <SectionPermission id="submit" permissions="rw" />
        </Role>
    </Permissions>

    <ReportSection id="gsms_ids" tooltip="GSMS IDs" name="GSMS IDs" blobSection="CS_Questions_tab0" type="EditableReportSection" pagebreak="false" >
        <ReportItem id="gsmsID" type="Text" blobType="BLOB_TEXT" blobItem="gsmsID" limit="100" >
            <![CDATA[
                
                <h3>GSMS ID<span title="A system-generated ID in GSMS from when an applicant creates an application" style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                {$item}
            ]]>
        </ReportItem>
        <ReportItem id="studentID" type="Text" blobType="BLOB_TEXT" blobItem="studentID" limit="100" >
            <![CDATA[
                <h3>Student ID<span title="Generated when an applicant establishes a relationship with the U of A in Campus Solution" style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                {$item}
            ]]>
        </ReportItem>
        <ReportItem id="csAppNum" type="Text" blobType="BLOB_TEXT" blobItem="csAppNum" limit="100" >
            <![CDATA[
                <h3>CS Application Number<span title="This number is generated when an application is created for an applicant in Campus Solution" style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                {$item}
            ]]>
        </ReportItem>
    </ReportSection>

    <ReportSection id="personal" tooltip="CS Application Details" title="CS Application Details" name="CS Application Details" blobSection="CS_QUESTIONS_tab1" type="EditableReportSection" pagebreak="false">

        <ReportItem id="q13" type="CheckboxReportItem" blobType="BLOB_ARRAY" blobItem="Q13" limit="900" options="Advanced Man-Machine Interfaces|Algorithmics/Theory|Artificial Intelligence|Bioinformatics|Communication Networks|Computer Games|Computer Graphics|Computer Vision and Multimedia Communication|Database Systems|Machine Learning|Reinforcement Learning|Robotics|Software Engineering|Software Systems|Statistical Machine Learning">
            <![CDATA[
            <style>
                    .flex-container {
                      width: 99%;
                      display: -webkit-flex; /* Safari */
                      display: flex;
                      -webkit-flex-direction: row; /* Safari */
                      flex-direction:         row;
                      -webkit-align-items: baseline; /* Safari */
                      align-items:         baseline;
                      justify-content: space-around;
                      align-content: stretch;
                      flex-wrap: wrap;
                    }
                    .flex-item {
                      -webkit-flex-grow: <number>; /* Safari */
                      flex-grow:         <number>;
                    }
                </style>
                <div class="flex-container">
                <div class="flex-item" style="
                    min-width: 370px; 
                    max-width: 500px;
                    flex-grow: 1;
                    flex-basis: 350px;
                    display: inline-block;
                    vertical-align: top;
                    box-shadow: 0 4px 4px 0 rgba(0,0,0,0.2);
                    padding: 0px 16px 16px 16px;
                    margin-top: 8px;
                    margin-right: 8px;" >
                    <h1>Research Interests</h1>
                    <h3>*Area of Study</h3>
                    {$item}
            ]]>
        </ReportItem>
    
        <ReportItem id="q14" type="FacultyMembersReportItem" url='https://forum-fos.ualberta.ca/index.php?action=api.people/Faculty' blobType="BLOB_ARRAY" blobItem="Q14" limit="900" delimiter="; " max="3" width="300px">
            <![CDATA[
                    <h3>*Potential Supervisors<span title="Choose up to 3 potential supervisors." style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                    {$item}
            ]]>
        </ReportItem>
        
        <ReportItem id="q16" type="CheckboxReportItem" withOther="true" blobType="BLOB_ARRAY" blobItem="Q16" limit="900" options="NSERC|AITF|Vanier" orientation="horizontal" optional="true">
            <![CDATA[
                    <h1>Financial</h1>
                    <h3>Scholarships Held<span title="Select all that you have applied to." style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                    {$item}
            ]]>
        </ReportItem>

        <ReportItem id="q15" type="CheckboxReportItem" withOther="true" blobType="BLOB_ARRAY" blobItem="Q15" limit="900" options="NSERC|AITF|Vanier" orientation="horizontal" optional="true">
            <![CDATA[
                    <h3>Scholarships Applied For<span title="Select all that you have applied to." style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                    {$item}
            ]]>
        </ReportItem>

        <ReportItem id="q17" type="Radio" blobType="BLOB_TEXT" blobItem="Q17" limit="900" options="Yes|No" orientation="horizontal">
            <![CDATA[
                    <h3>*Need for Financial Support<span title="Do you require financial support for graduate studies?" style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                    {$item}
                </div>
            ]]>
        </ReportItem>
        <ReportItem id="q19" type="Integer" decimals="2" blobType="BLOB_TEXT" blobItem="Q19" width="40px" orientation="horizontal">
            <![CDATA[

                <div class="flex-item" style="
                    min-width: 370px; 
                    max-width: 500px;
                    flex-grow: 1;
                    flex-basis: 350px;
                    display: inline-block;
                    vertical-align: top;
                    overflow: hidden; 
                    box-shadow: 0 4px 4px 0 rgba(0,0,0,0.2);
                    padding: 0px 16px 16px 16px;
                    margin-top: 8px;
                    margin-right: 8px;">
                    <h1>GPA</h1>
                    <p>Your Grade Point Average is calculated based on your most recent two years of full time study (or equivalent).</p>

                    <div>
                        <div style="display: inline-block; vertical-align: top;">
                            <h3>*GPA<span title="Enter your GPA based on your most recent two years of full time study." style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                            {$item}
                        </div>
                
            ]]>
        </ReportItem>
        <ReportItem id="q20" type="Integer" decimals="2" blobType="BLOB_TEXT" blobItem="Q20" width="40px" orientation="horizontal">
            <![CDATA[
                        <div style="display: inline-block; vertical-align: top; margin-left: 16px">
                            <h3>*GPA Scale<span title="Your GPA is based on a scale out of" style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                            {$item}
                        </div>
                    </div>
                    <div id='warning_container'></div>
            ]]>
        </ReportItem>
        <ReportItem id="q21" type="Text" blobType="BLOB_TEXT" editable="false" blobItem="Q21" width="40px" optional="true">
            <![CDATA[
                    <div style="display: inline-block; vertical-align: top;">
                        <h3>Normalized GPA<span title="Calculated field. Normalized GPA on the 4 point scale." style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                        {$item}
                        <script type="text/javascript">
                            var calculateNormalizedGPA = function() {
                                var gpa       = $('[name=CSApplicationDetails_q19]').val();
                                var gpa_scale = $('[name=CSApplicationDetails_q20]').val();

                                var returnValue;
                                clearWarning('#warning_container');
                                if (gpa != '') {
                                    if ((gpa_scale == 0) || (gpa_scale == '') || (gpa_scale == null)) {
                                        addWarning('Scale cannot be out of 0', false, '#warning_container');
                                    } else {
                                        // try calculating
                                        var normalized = (gpa * 4) / (gpa_scale);
                                        if (normalized > 4) {
                                            addWarning('GPA cannot be greater than scale', false, '#warning_container');
                                        } else {
                                            returnValue = parseFloat(normalized).toFixed(2);
                                        }
                                    }
                                } else {
                                    returnValue = "";
                                }

                                $('[name=CSApplicationDetails_q21]').val(returnValue);
                            };

                            $('[name=CSApplicationDetails_q19]').change(calculateNormalizedGPA);
                            $('[name=CSApplicationDetails_q20]').change(calculateNormalizedGPA);
                            $(document).ready(calculateNormalizedGPA);

                        </script>
                    </div>
            ]]>
        </ReportItem>
        <ReportItem id="q22" type="Text" blobType="BLOB_TEXT" blobItem="Q22" limit="100" width="200px">
            <![CDATA[
                    <div style="display: inline-block; vertical-align: top; margin-left: 16px">
                        <h3>*Institution<span title="The GPA stated above based on your most recent two years of full time study was achieved at this institution" style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                        {$item}
                    </div>
            
            ]]>
        </ReportItem>
        <ReportItem id="q23" type="Calendar" blobType="BLOB_TEXT" blobItem="Q23" limit="100" width="100px" optional="true">
            <![CDATA[
                    <h1 style="margin-top: 16px">GRE</h1>
                    <p>The GRE is not required, however, for applicants who have received their degree outside of Canada, we highly recommend taking the GRE (General).</p>
                    <h3>GRE Date<span title="Your most recent GRE attempt. (yyyy-mm-dd)" style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                    {$item}

            ]]>
        </ReportItem>
        <ReportItem id="q24" type="Integer" max="170" blobType="BLOB_TEXT" blobItem="Q24" limit="100" width="100px" optional="true">
            <![CDATA[
                    <div class="flex-container">
                        <div class="flex-item">
                            <h3>Verbal<span title="Score 130-170." style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                            {$item}
                        </div>
            ]]>
        </ReportItem>
        <ReportItem id="q25" type="Integer" max="170" blobType="BLOB_TEXT" blobItem="Q25" limit="100" width="100px" optional="true">
            <![CDATA[
                        <div class="flex-item">
                            <h3>Quantitative<span title="Score 130-170." style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                            {$item}
                        </div>
            ]]>
        </ReportItem>
        <ReportItem id="q26" type="Integer" max="6" blobType="BLOB_TEXT" blobItem="Q26" limit="100" width="100px" optional="true">
            <![CDATA[
                        <div class="flex-item">
                            <h3>Analytical<span title="Score 0-6." style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                            {$item}
                        </div>
            ]]>
        </ReportItem>
        <ReportItem id="q27" type="Integer" blobType="BLOB_TEXT" blobItem="Q27" limit="100" width="100px" optional="false">
            <![CDATA[
                        <div class="flex-item">
                            <h3>GRE CS</h3>
                            {$item}
                        </div>
                    </div> <!-- end GRE flex -->

            ]]>
        </ReportItem>


        <ReportItem id="q28" type="Upload" blobType="BLOB_RAW" blobItem="qUploadGRE" width="100px" mimeType=".pdf" fileSize="5">
            <![CDATA[
                    <h3>Upload GRE Transcript (PDF)</h3>
                    {$item}
                </div> <!-- end flex item2 -->
            </div> <!-- end flex container -->
            ]]>
        </ReportItem>

    </ReportSection>

    <ReportSection id="sop" tooltip="Statement of Purpose" name="SoP" title="Statement of Purpose" blobSection="CS_QUESTIONS_tab2" type="EditableReportSection" pagebreak="false">
        <ReportItem id="qSOP" type="TextareaReportItem" blobType="BLOB_TEXT" blobItem="QSOP" limit="4500" height="1000px">
            <![CDATA[
                <h3>Statement of Purpose</h3>
                {$item}
            ]]>
        </ReportItem>
    </ReportSection>

    <ReportSection id="research_experience" tooltip="Research Experience" name="Research Experience" blobSection="CS_QUESTIONS_tab3" type="EditableReportSection" pagebreak="false">
        <ReportItem id="qResExp1" type="TextareaReportItem" blobType="BLOB_TEXT" blobItem="qResExp" limit="2000" >
            <![CDATA[
                <h3>Research Experience</h3>
                {$item}
            ]]>
        </ReportItem>

        <ReportItem id="qResExp2" type="MultiTextReportItem" labels="Publications" types="TextArea" sizes="1000" heights="67" start="1" multiple="true" blobType="BLOB_ARRAY" blobItem="qPublications" limit="150">
            <![CDATA[
                <h3>Publications</h3>
                {$item}
            ]]>
        </ReportItem>
    </ReportSection>

    <ReportSection id="awards" tooltip="Awards" name="Awards" blobSection="CS_QUESTIONS_tab4" type="EditableReportSection" pagebreak="false">
        <ReportItem id="qResExp2" type="MultiTextReportItem" labels="Award Title|Date|Adjudicating Organizations|Award Amount ($)" types="Text|Date|Text|Integer" start="1" multiple="true" blobType="BLOB_ARRAY" blobItem="qAwards" limit="150" width="98%">
            <![CDATA[
                {$item}
            ]]>
        </ReportItem>
    </ReportSection>

    <ReportSection id="education" tooltip="Education History" name="Education History" blobSection="CS_QUESTIONS_tab6" type="EditableReportSection" pagebreak="false">
        <ReportItem id="qEducation1" type="MultiTextReportItem" types="Text|Text|Date" labels="Degree|University|Date (Awarded/Expected)" sizes="300|200|100" start="1" multiple="true" blobType="BLOB_ARRAY" blobItem="qDegrees" limit="150" width="98%">
            <![CDATA[
                <h3>Degrees</h3>
                {$item}
            ]]>
        </ReportItem>

        <ReportItem id="qEducation2" type="MultiTextReportItem" types="Text|Select({getString(CS_Interests)})|Integer|Integer" labels="Course|UofA Course|Grade|Max Grade" start="1" sizes="350||75|75" multiple="true" blobType="BLOB_ARRAY" blobItem="qCourses" limit="150" width="98%">
            <![CDATA[
                <h3>Courses Taken</h3>
                {$item}
            ]]>
        </ReportItem>

        <ReportItem id="qEducation3" type="Text" blobType="BLOB_TEXT" blobItem="qThesisTitle" limit="150" width="98%">
            <![CDATA[
                <h3>Masters Thesis Title</h3>
                {$item}
            ]]>
        </ReportItem>
        <ReportItem id="qEducation4" type="TextareaReportItem" blobType="BLOB_TEXT" blobItem="qThesisAbstract" limit="1000">
            <![CDATA[
                <h3>Thesis Abstract</h3>
                {$item}
            ]]>
        </ReportItem>

    </ReportSection>


    <!--
    <ReportSection id="gpaFullYear_page" tooltip="Best Full-Year GPA" name="Best Full-Year GPA" blobSection="CS_QUESTIONS3" type="EditableReportSection" pagebreak="false">

        <ReportItem id="qpaFullq1" type="MultiTextReportItem" blobType="BLOB_ARRAY" blobItem="gpaFullEntries" labels="Course Name|Grade|Credits" types="Text|Integer(,,2)|Integer" multiple="true" start="1" sizes="350|100|100">
            <![CDATA[
                <h3>Course History</h3>
                {$item}
                <div id='warning_container'></div>
            ]]>
        </ReportItem>

        <ReportItem id="qpaFullq2" type="Text" blobType="BLOB_TEXT" editable="false" blobItem="gpaFullOutput" limit="100" width="100px" optional="true">
            <![CDATA[
                <h3>GPA<span title="Auto-calculated value from above courses" style="margin-left: 5px; cursor: default;" class="tooltip">&#9432;</span></h3>
                {$item}
                <script type="text/javascript">

                    var calculateGPAfull = function() {
                        _.defer(function() {
                            // get all the gpas from report item above this one
                            var elArray = $("*[name^='BestFullYearGPA_qpaFullq1'][name*='grade']");
                            
                            // Calculate gpa
                            var sumGPA = 0;
                            for (var a = 0; a < elArray.length; a++) {
                                if (!_.isNaN(parseFloat(elArray[a].value))) {
                                    sumGPA += parseFloat(elArray[a].value);
                                }
                            }
                            var avg = sumGPA / Math.max(elArray.length, 1);                            
                            $('[name=BestFullYearGPA_qpaFullq2]').val(Number(Math.round(avg+'e2')+'e-2'));
                            
                        });
                    };

                    // set onChangeListeners
                    $(document).off("change", "*[name^='BestFullYearGPA_qpaFullq1'][name*='grade']");
                    $(document).off("click", "#table_BestFullYearGPA_qpaFullq1 button", calculateGPAfull);
                    $(document).on("change", "*[name^='BestFullYearGPA_qpaFullq1'][name*='grade']", calculateGPAfull);
                    $(document).on("click", "#table_BestFullYearGPA_qpaFullq1 button", calculateGPAfull);
                    calculateGPAfull();

                </script>
            ]]>
        </ReportItem>

    </ReportSection>
-->




    <ReportSection id="review" tooltip="Review of on-line report content" name="Review" blobSection="SEC_NONE" type="ReportSection" renderpdf="false">
        <ReportItem id="report_review" type="ReviewReportItem">
            <![CDATA[{$item}]]>
        </ReportItem>
    </ReportSection>

    <ReportSection id="eula" name="Declaration" title="Declaration" tooltip="Declaration" blobSection="OT_EULA" type="EULA">
        <ReportItem id="eula" type="EULA" blobItem="EULA" yes="&lt;b&gt;Yes&lt;/b&gt;, I agree to the above Declaration"
                                                          no="&lt;b&gt;No&lt;/b&gt;, I do not agree to the above Declaration">
            <![CDATA[
                <p>Personal information on this form is collected under the authority of Section 33(c) of Alberta’s Freedom of Information and Protection of Privacy Act and will be protected under Part 2 of that Act. It will be used for authorized purposes including admission and registration; administration of records, scholarships and awards, student services; and university planning and research. Students’ personal information may be used by academic and administrative units according to university policy, and operational needs. It is disclosed pursuant to federal and provincial regulatory reporting requirements, data sharing agreements with student governance associations, and to contracted or public health care providers as required. Direct any questions about this collection to the Admissions Services Supervisor, Faculty of Graduate Studies and Research, Killam Centre for Advanced Studies, 2-29 Triffo Hall, University of Alberta, Edmonton, AB T6G 2E1, 780-492-3499 or visit the <a href='http://www.ipo.ualberta.ca/' target='_blank'>Information and Privacy Office website</a>.</p>

                <p>You must agree to the following declaration before submitting your application:</p>
                <ul>
                    <li>I agree, if admitted to the University of Alberta, to comply with University regulations.</li>
                    <li>I certify that the information in this application is true and complete in all respects and that I have withheld no information.</li>
                    <li>I authorize the University to verify any information provided as part of this application.</li>
                    <li>I understand that misrepresentation, falsification of documents, or withholding of requested information regarding this application are serious offences and may result in prosecution under the University's Code of Applicant Behaviour, Code of Student Behaviour and/or the Criminal Code of Canada.</li>
                    <li>I attest that I have completed all questions to the best of my ability and without the assistance of other individuals.</li>
                </ul>
                {$item}
            ]]>
        </ReportItem>
    </ReportSection>

    <ReportSection id="submit" tooltip="PDF generation" name="Generate PDF" blobSection="SEC_NONE" type="ReportSection" renderpdf="false">
        <ReportItemSet id="if_eula" type="If" if="{==({getText(RP_OT,OT_EULA,EULA,0,{$user_id},0)},Yes)}">
            <ReportItem id="review" type="SimpleReviewSubmitReportItem" />
        </ReportItemSet>
        <ReportItem id="if_not_eula" type="If" if="{!=({getText(RP_OT,OT_EULA,EULA,0,{$user_id},0)},Yes)}">
            <![CDATA[
                <p>You need to accept the declaration before you complete the application.</p>
            ]]>
        </ReportItem>
    </ReportSection>
</Report>
